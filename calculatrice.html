<!DOCTYPE html>
<html>
  <head>
    <title>Calculatrice</title>
    <link rel="stylesheet" href="calculatrice.css">
  </head>
  <body>
    <h1>Calculatrice</h1>
    <form name="calculator">
      <input type="text" name="result" id="result" readonly>
      <br>
      <input type="button" name="button" value="1" onclick="addNumber('1')">
      <input type="button" name="button" value="2" onclick="addNumber('2')">
      <input type="button" name="button" value="3" onclick="addNumber('3')">
      <input type="button" name="button" value="+" onclick="addOperator('+')">
      <br>
      <input type="button" name="button" value="4" onclick="addNumber('4')">
      <input type="button" name="button" value="5" onclick="addNumber('5')">
      <input type="button" name="button" value="6" onclick="addNumber('6')">
      <input type="button" name="button" value="-" onclick="addOperator('-')">
      <br>
      <input type="button" name="button" value="7" onclick="addNumber('7')">
      <input type="button" name="button" value="8" onclick="addNumber('8')">
      <input type="button" name="button" value="9" onclick="addNumber('9')">
      <input type="button" name="button" value="*" onclick="addOperator('*')">
      <br>
      <input type="button" name="button" value="C" onclick="clearResult()">
      <input type="button" name="button" value="0" onclick="addNumber('0')">
      <input type="button" name="button" value="=" onclick="calculate()">
      <input type="button" name="button" value="/" onclick="addOperator('/')">
    </form>
    
    <script>

        let result = document.getElementById('result');
        let firstOperand = '';
        let secondOperand = '';
        let operator = '';
        let answer;

        function addNumber(number) {
            if (operator === '') {
                firstOperand += number;
                result.value += number;
            } else {
                secondOperand += number;
                result.value += number;
            }
        }

        function addOperator(op) {

            if (firstOperand === '' && (op ==! '-' || op ==! '+')) {
                alert('Erreur: pas de nombre entr√©');
                return;
            }
            
            operator = op;

            result.value += ' ' + operator + ' ';
        }

        function clearResult() {
            result.value = '';
            answer = '';
            firstOperand = '';
            secondOperand = '';
            operator = '';
        }

        function calculate() {
            
            
            switch (operator) {
            case '+':
                if(firstOperand == ''){

                    answer = parseFloat(secondOperand);
                    break;
                }
                else {answer = parseFloat(firstOperand) + parseFloat(secondOperand);
                break;}
                
            case '-':
                if(firstOperand == ''){

                    answer = - parseFloat(secondOperand);
                    break;
                }
                else{
                    answer = parseFloat(firstOperand) - parseFloat(secondOperand);
                    break;
                }
            case '*':
                answer = parseFloat(firstOperand) * parseFloat(secondOperand);
                break;
            case '/':
                answer = parseFloat(firstOperand) / parseFloat(secondOperand);
                break;
            default:
            return;
            }
            result.value = answer;
            firstOperand = answer;
            secondOperand = '';
            operator = '';
        }
    </script>
  </body>
</html>